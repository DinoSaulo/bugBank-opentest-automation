description: |
  Navigate to the BugBank and try transfer to an account that does not exist
actors:
  - actor: ACTOR1
    segments:
      - segment: 1
        actions:
          - description: Navigate to the BugBank homepage
            action: org.getopentest.selenium.NavigateTo
            args:
              url: https://bugbank.netlify.app/#

          - description: Click the register button
            action: org.getopentest.selenium.Click
            args:
              locator: {xpath: "//div[contains(@class, 'login__buttons')]//button[contains(@type, 'button')]"}

          - description: Type the email
            action: org.getopentest.selenium.SendKeys
            args:
              locator: {xpath: "//div[contains(@class, 'card__register')]//input[contains(@type, 'email')]"}
              text: saulo@email.com

          - description: Type the name
            action: org.getopentest.selenium.SendKeys
            args:
              locator: {xpath: "//div[contains(@class, 'card__register')]//input[contains(@name, 'name')]"}
              text: Saulo

          - description: Type the password
            action: org.getopentest.selenium.SendKeys
            args:
              locator: {xpath: "//div[contains(@class, 'card__register')]//label[contains(text(), 'Senha')]/../input"}
              text: 1234567890

          - description: Type the password confirmation
            action: org.getopentest.selenium.SendKeys
            args:
              locator: {name: "passwordConfirmation"}
              text: 1234567890

          - description: Click the register button
            action: org.getopentest.selenium.Click
            args:
              locator: {xpath: "//div[contains(@class, 'card__register')]//button[contains(@type, 'submit')]"}

          - description: Verify that the created account mensage is displayed
            action: org.getopentest.selenium.AssertElementText
            args:
              locator: {id: "modalText"}
              textMatches: A conta [0-9]*-[0-9] foi criada com sucesso

          - description: Close the modal
            action: org.getopentest.selenium.Click
            args:
              locator: {id: "btnCloseModal"}

          - description: Type the email
            action: org.getopentest.selenium.SendKeys
            args:
              locator: {xpath: "//div[contains(@class, 'card__login')]//form//input[contains(@type, 'email')]"}
              text: saulo@email.com

          - description: Type the password
            action: org.getopentest.selenium.SendKeys
            args:
              locator: {xpath: "//div[contains(@class, 'card__login')]//form//input[contains(@name, 'password')]"}
              text: 1234567890

          - description: Click the login button
            action: org.getopentest.selenium.Click
            args:
              locator: {xpath: "//div[contains(@class, 'login__buttons')]//button[contains(@type, 'submit')]"}

          - description: Verify that the welcome mensage is displayed
            action: org.getopentest.selenium.AssertElementText
            args:
              locator: {id: "textName"}
              textMatches: Olá [a-zA-Z0-9_ ]*,

          - description: Click the transferencia button
            action: org.getopentest.selenium.Click
            args:
              locator: {id: "btn-TRANSFERÊNCIA"}

          - description: Type the account number
            action: org.getopentest.selenium.SendKeys
            args:
              locator: {xpath: "//form//input[contains(@name, 'accountNumber')]"}
              text: 000

          - description: Type the account digit
            action: org.getopentest.selenium.SendKeys
            args:
              locator: {xpath: "//form//input[contains(@name, 'digit')]"}
              text: 0

          - description: Type the transfer value
            action: org.getopentest.selenium.SendKeys
            args:
              locator: {xpath: "//form//input[contains(@name, 'transferValue')]"}
              text: 50

          - description: Type the transfer description
            action: org.getopentest.selenium.SendKeys
            args:
              locator: {xpath: "//form//input[contains(@name, 'description')]"}
              text: TesteTesteTesteTesteTeste

          - description: Click in the transfer button
            action: org.getopentest.selenium.Click
            args:
              locator: {xpath: "//form//button[contains(@type, 'submit')]"}

          - description: Verify that the warning mensage is displayed
            action: org.getopentest.selenium.AssertElementText
            args:
              locator: {id: "modalText"}
              textMatches: Conta inválida ou inexistente
